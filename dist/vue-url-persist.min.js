!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self)["vue-url-persist"]={})}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function n(t){return t.split(/[\\.\\[]/).map((function(t){return/\]$/.test(t)?t.slice(0,t.length-1):t}))}function r(t,e,r){void 0===r&&(r=null),"string"==typeof e&&(e=n(e));for(var i=t,o=0,u=e;o<u.length;o++){var a=u[o];try{if(null==(i=Reflect.get(i,a)))return r}catch(t){return r}}return i}var i=function(){function t(t){void 0===t&&(t={}),this.key="qb",Object.assign(this,t)}return t.setInitData=function(t,e,i){var o=r(t,e,null),u=i[e];null==o||"string"==typeof o||"number"==typeof o?function(t,e,r){"string"==typeof e&&(e=n(e));for(var i=t,o=0,u=e.length;o<u;o++){var a=e[o];if(o===u-1)return i[a]=r,!0;if("object"!=typeof(i=i[a]))return!1}}(t,e,u):"object"==typeof o&&"object"==typeof u&&Object.assign(r(t,e),u)},t.prototype.initUrlDataByCreated=function(n,r){var i=this.key,o=JSON.parse(n.$route.query[i]||"{}");r.forEach((function(r){t.setInitData(n,r,o),n.$watch(r,function(t,e,n){var r;void 0===n&&(n=null);var i=n;return function(){for(var n=this,o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new Promise((function(u){r&&clearTimeout(r),r=setTimeout((function(){return u(i=t.apply(n,o))}),e),setTimeout((function(){return u(i)}),e)}))}}((function(t){var u;o[r]=t,n.$route.query[i]!==JSON.stringify(o)&&n.$router.replace({query:e(e({},n.$route.query),(u={},u[i]=JSON.stringify(o),u))})}),1e3),{deep:!0})}))},t.prototype.initUrlDataByRouteUpdate=function(e,n,r){var i=JSON.parse(r.query[this.key]||"{}");n.forEach((function(n){return t.setInitData(e,n,i)}))},t.prototype.generateInitUrlData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;return{created:function(){n.initUrlDataByCreated(this,t)},beforeRouteUpdate:function(e,r,i){n.initUrlDataByRouteUpdate(this,t,e),i()},beforeRouteEnter:function(e,r,i){i((function(r){return n.initUrlDataByRouteUpdate(r,t,e)}))}}},t.prototype.config=function(t){Object.assign(this,t)},t}(),o=new i,u=o.generateInitUrlData.bind(o);t.VueUrlPersist=i,t.default=o,t.generateInitUrlData=u,t.vueUrlPersist=o,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-url-persist.min.js.map
